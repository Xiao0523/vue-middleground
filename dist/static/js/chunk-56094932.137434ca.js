(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56094932"],{2423:function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return o}));var i=r("f96b");function s(e){return i["a"].post("/boss/supplier/articles",e)}function a(e){return i["a"].post("/boss/supplier/article",e)}function n(e){return i["a"].get("/boss/supplier/article/"+e)}function o(e){return i["a"].del2("/boss/supplier/article/"+e)}},"2b2d":function(e,t,r){},"60e0":function(e,t,r){},"8e77":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"product_new"},[r("h3",{staticClass:"title"},[e._v("添加文章")]),e._v(" "),r("span",{staticClass:"note"},[e._v("*请确保以下内容文字都是英文")]),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,"label-position":"right","label-width":"100px",size:"medium"}},[r("el-form-item",{attrs:{label:"文章标题"}},[r("el-input",{staticStyle:{width:"500px"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}}),e._v(" "),r("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],model:{value:e.ruleForm.uuid,callback:function(t){e.$set(e.ruleForm,"uuid",t)},expression:"ruleForm.uuid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文章简介:"}},[r("el-input",{staticStyle:{width:"500px"},model:{value:e.ruleForm.simpleDescription,callback:function(t){e.$set(e.ruleForm,"simpleDescription",t)},expression:"ruleForm.simpleDescription"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文章内容："}},[r("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片："}},[r("el-upload",{attrs:{action:e.uploadUrl,"list-type":"picture-card",name:"multipartFile","file-list":e.fileList,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload,"on-success":e.handleVideoSuccess}},[r("i",{staticClass:"el-icon-plus"})]),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),r("p",{staticClass:"upload-tips"},[e._v("只能上传jpg/png文件")])],1),e._v(" "),r("el-form-item",{attrs:{label:"状态："}},[r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("启用")]),e._v(" "),r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("禁用")])],1),e._v(" "),r("el-row",[r("el-form-item",[r("el-button",{staticStyle:{left:"200px"},attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{staticStyle:{left:"100px"},attrs:{type:"info"},on:{click:function(t){return e.cancel("ruleForm")}}},[e._v("返回")])],1)],1)],1)],1)},s=[],a=(r("28a5"),r("ac6a"),r("2423")),n=r("99b1"),o={components:{},data:function(){return{productCategoryList:[],ruleForm:{uuid:"",title:"",simpleDescription:"",content:"",pics:[],status:"1"},editorOption:{placeholder:"请输入文章内容..."},uploadUrl:n["b"],dialogImageUrl:"",dialogVisible:!1,query:{},fileList:[]}},computed:{},watch:{},created:function(){this.query=this.$route.query,this.inintData()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("请上传JPG/PNG格式的图片"),t},handleVideoSuccess:function(e,t){if(e.code)return e.message&&this.$warn(e.message);this.$success("上传成功！！！"),this.ruleForm.pics.push(e.data)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleRemove:function(e,t){var r=this;if("success"!==e.status)return this.$warn("删除失败");this.ruleForm.pics=[],t.forEach((function(e){var t=e.response?e.response.data:e.url;r.ruleForm.pics.push(t)})),this.$success("删除成功！！！")},inintData:function(){var e=this;Object(a["c"])(this.query.id).then((function(t){if(t.data.code)return t.data.message&&e.$warn(t.data.message);e.ruleForm=t.data.data;var r=t.data.data.pics,i={},s=[];r.forEach((function(e){i={},i={name:e.split("/").pop(),url:e},s.push(i)})),e.fileList=s}))},onSubmit:function(e){var t=this;Object(a["b"])(this.ruleForm).then((function(e){if(e.code)return e.message&&t.$warn(e.message);t.$success(e.data.message),t.$router.push({path:"/articleManager/articleList"})}))},cancel:function(e){this.$router.push({path:"/articleManager/articleList"})}}},l=o,u=(r("f907"),r("d867"),r("2877")),c=Object(u["a"])(l,i,s,!1,null,"5a7fe956",null);t["default"]=c.exports},"99b1":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}));var i="https://upload.my51share.com",s=i+"/pic",a=i+"/video",n=i+"/file"},d867:function(e,t,r){"use strict";var i=r("2b2d"),s=r.n(i);s.a},f907:function(e,t,r){"use strict";var i=r("60e0"),s=r.n(i);s.a}}]);