(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c6c617c"],{"0b6f":function(e,t,r){},4917:function(e,t,r){"use strict";var a=r("cb7c"),o=r("9def"),i=r("0390"),s=r("5f1b");r("214f")("match",1,(function(e,t,r,l){return[function(r){var a=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,a):new RegExp(r)[t](String(a))},function(e){var t=l(r,e,this);if(t.done)return t.value;var n=a(e),c=String(this);if(!n.global)return s(n,c);var p=n.unicode;n.lastIndex=0;var u,d=[],m=0;while(null!==(u=s(n,c))){var f=String(u[0]);d[m]=f,""===f&&(n.lastIndex=i(c,o(n.lastIndex),p)),m++}return 0===m?null:d}]}))},"99b1":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s}));var a="https://upload.my51share.com",o=a+"/pic",i=a+"/video",s=a+"/file"},b33a:function(e,t,r){"use strict";var a=r("0b6f"),o=r.n(a);o.a},f516:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"material"},[r("h3",{staticClass:"title"},[e._v("基本资料")]),e._v(" "),r("span",{staticClass:"note"},[e._v("*请确保以下内容文字都是英文")]),e._v(" "),r("el-form",{ref:"form",staticClass:"search-box",attrs:{inline:!0,model:e.form,"label-width":"150px",label:"left",rules:e.rules}},[r("el-form-item",{staticClass:"search-item",attrs:{label:"Company name",prop:"companyName"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName","string"===typeof t?t.trim():t)},expression:"form.companyName"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Company profile",prop:"simpleDescription"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.simpleDescription,callback:function(t){e.$set(e.form,"simpleDescription","string"===typeof t?t.trim():t)},expression:"form.simpleDescription"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Jump website",prop:"webUrl"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.webUrl,callback:function(t){e.$set(e.form,"webUrl","string"===typeof t?t.trim():t)},expression:"form.webUrl"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"The name",prop:"realName"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName","string"===typeof t?t.trim():t)},expression:"form.realName"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Personal motto",prop:"motto"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.motto,callback:function(t){e.$set(e.form,"motto","string"===typeof t?t.trim():t)},expression:"form.motto"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Mobile phone no.",prop:"mobilePhone"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone","string"===typeof t?t.trim():t)},expression:"form.mobilePhone"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Email",prop:"email"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Twitter",prop:"twitter"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.twitter,callback:function(t){e.$set(e.form,"twitter","string"===typeof t?t.trim():t)},expression:"form.twitter"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Facebook",prop:"facebook"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.facebook,callback:function(t){e.$set(e.form,"facebook","string"===typeof t?t.trim():t)},expression:"form.facebook"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"LinkedIn",prop:"linkedIn"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.linkedIn,callback:function(t){e.$set(e.form,"linkedIn","string"===typeof t?t.trim():t)},expression:"form.linkedIn"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"whatsapp",prop:"whatsapp"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"Please enter the"},model:{value:e.form.whatsapp,callback:function(t){e.$set(e.form,"whatsapp","string"===typeof t?t.trim():t)},expression:"form.whatsapp"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上传照片"}},[r("el-upload",{staticClass:"uploader logo",attrs:{action:e.uploadUrl,name:"multipartFile","show-file-list":!1,"on-success":e.handleVideoSuccess,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview}},[e.form.businessPic?r("img",{staticClass:"logo",attrs:{src:e.form.businessPic}}):r("i",{staticClass:"el-icon-picture uploader-icon"})]),e._v(" "),r("p",{staticClass:"upload-tips"},[e._v("只能上传jpg/png文件，建议尺寸为580x580px。")]),e._v(" "),r("input",{attrs:{type:"hidden"}})],1),e._v(" "),r("el-form-item",{staticClass:"search-item",attrs:{label:"Promotional video",prop:"facebook"}},[r("div",{staticClass:"upload-box"},[e._l(e.form.videos,(function(t){return r("div",{key:t.videoUrl,staticClass:"video-box"},[r("span",{staticClass:"icon-close",on:{click:function(r){return e.closeVideo(t.videoUrl)}}}),e._v(" "),r("video",{staticClass:"video-border",attrs:{controls:"",autoplay:"",poster:t.videoCover}},[r("source",{attrs:{src:t.videoUrl,type:"video/mp4"}})])])})),e._v(" "),r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"input",attrs:{type:"file",accept:"video/*"},on:{change:e.fileChange}}),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.$refs.input.click()}}},[e._v("\n          上传视频\n        ")]),e._v(" "),r("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.percentage,expression:"percentage"}],staticStyle:{width:"400px"},attrs:{percentage:e.percentage,"stroke-width":20,color:e.customColors,"text-inside":!0}})],2)]),e._v(" "),r("el-row",[r("el-col",{attrs:{span:9}},[r("el-button",{staticClass:"submit",on:{click:e.submitInformation}},[e._v("提交")])],1)],1)],1)],1)},o=[],i=(r("7f7f"),r("4917"),r("bc3a")),s=r.n(i),l=r("99b1"),n=r("f96b");function c(){return n["a"].get("/boss/supplier/web")}function p(e){return n["a"].patch("/boss/supplier/web",e)}var u={components:{},data:function(){var e=function(e,t,r){if(!t)return r(new Error("No null allowed, please enter!!"));setTimeout((function(){/.*[\u4e00-\u9fa5]+.*$/.test(t)&&r(new Error("Please enter English!!!"))}),1e3)};return{form:{companyName:"",simpleDescription:"",webUrl:"",realName:"",motto:"",mobilePhone:"",email:"",twitter:"",facebook:"",linkedIn:"",whatsapp:"",videos:[],videoInfo:{videoCoverUrl:"",videoUrl:"",videoId:""},businessPic:""},rules:{companyName:[{required:!0,message:"Please enter the company name",trigger:"blur"},{validator:e,trigger:"blur"}],simpleDescription:[{required:!0,message:"Please enter company profile",trigger:"blur"},{validator:e,trigger:"blur"}],webUrl:[{required:!0,message:"Please enter Jump website",trigger:"blur"},{validator:e,trigger:"blur"}],realName:[{required:!0,message:"Please enter Name",trigger:"blur"},{validator:e,trigger:"blur"}],motto:[{required:!0,message:"Please enter Personal motto",trigger:"blur"},{validator:e,trigger:"blur"}],mobilePhone:[{required:!0,message:"Please enter Mobile phone no",trigger:"blur"},{validator:e,trigger:"blur"}],email:[{required:!0,message:"Please enter Email",trigger:"blur"},{validator:e,trigger:"blur"}],twitter:[{required:!0,message:"Please enter twitter",trigger:"blur"},{validator:e,trigger:"blur"}],facebook:[{required:!0,message:"Please enter Facebook",trigger:"blur"},{validator:e,trigger:"blur"}],linkedIn:[{required:!0,message:"Please enter LinkedIn",trigger:"blur"},{validator:e,trigger:"blur"}],whatsapp:[{required:!0,message:"Please enter whatsapp",trigger:"blur"},{validator:e,trigger:"blur"}]},videoUrl:l["c"],uploadUrl:l["b"],uploadFile:null,percentage:0,uploader:null,disableSubmit:!0,customColors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],securityToken:"",accessKeyId:"",accessKeySecret:"",dialogImageUrl:"",dialogVisible:!1}},computed:{},watch:{},created:function(){this.getWebsite()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("请上传JPG/PNG格式的图片"),t},handleVideoSuccess:function(e,t){if(e.code)return e.message&&this.$warn(e.message);this.$success("上传成功！！！"),this.form.businessPic=e.data},handleVideoRemove:function(){this.videoLoading=!1,this.form.businessPic="",this.form.businessPic=""},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},fileChange:function(){var e=this;return!!event.target.files[0]&&(event.target.files[0].type.match("video.*")?(this.uploadFile=event.target.files[0],this.percentage=0,void(this.uploadFile.size<=157286400?this.getAuth((function(){e.getUploder();var t='{"Vod":{"StorageLocation":"","Title":"'+e.uploadFile.name+'","Description":"默认描述信息暂无","CateId":"19","Tags":"测试视频"}}';e.uploader.addFile(e.uploadFile,"","","",t),e.uploader.startUpload()})):this.$message.error("上传的文件大小超过150M，请重新上传"))):(this.$message.error("请选择视频文件"),!1))},getUploder:function(){var e=this;e.uploader=new AliyunUpload.Vod({userId:"1402947514567452",partSize:1048576,parallel:5,retryCount:3,retryDuration:2,enableUploadProgress:!0,onUploadFailed:function(t,r,a){e.$message.error("文件上传失败：".concat(a))},onUploadSucceed:function(t){console.log(t);var r="https://video.my51share.com/".concat(t.object),a={videoUrl:r,videoId:t.videoId,videoCover:""};e.form.videos.push(a),console.log(e.form.videos),e.$message.success("文件上传成功")},onUploadProgress:function(t,r,a){e.percentage=+(100*a).toFixed(0)},onUploadTokenExpired:function(e){console.log("onUploadTokenExpired STS临时账号过期了")},onUploadCanceled:function(e){console.log("onUploadCanceled:file:".concat(e.file.name))},onUploadstarted:function(t){var r=e.accessKeyId,a=e.accessKeySecret,o=e.securityToken;e.uploader.setSTSToken(t,r,a,o)},onUploadEnd:function(e){console.log("onUploadEnd: uploaded all the files")}})},getAuth:function(e){var t=this,r=JSON.parse(localStorage.getItem("storeId"))||"023";s.a.get("https://dev.my51share.com/VodStsForApp/"+r).then((function(r){t.securityToken=r.data.credentials.securityToken,t.accessKeyId=r.data.credentials.accessKeyId,t.accessKeySecret=r.data.credentials.accessKeySecret,e()}))},getWebsite:function(){var e=this;c().then((function(t){if(t.code)return t.message&&e.$warn(t.message);e.form=t.data.data}))},submitInformation:function(){var e=this,t=this.form;p(t).then((function(t){if(t.data.code)return t.data.message&&e.$warn(t.data.message);e.$success(t.data.message)}))},closeVideo:function(e){var t=this.form.videos,r=t.filter((function(t){return t.videoUrl!==e}));this.form.videos=r}}},d=u,m=(r("b33a"),r("2877")),f=Object(m["a"])(d,a,o,!1,null,"a099b400",null);t["default"]=f.exports}}]);